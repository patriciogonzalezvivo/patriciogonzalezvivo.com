function initGUI(){var e=new dat.GUI({height:159}),t={focusDistance:defaultFocusDistance,focusAperture:defaultFocusAperture,LOD:defaultLOD},n=e.add(t,"LOD",.5,20);n.onChange(function(e){pointcloud.LOD=e});var r=e.add(t,"focusDistance",.001,1);r.onChange(function(e){pointcloudMaterial.uniforms.focusDistance.value=e});var i=e.add(t,"focusAperture",.001,1);i.onChange(function(e){pointcloudMaterial.uniforms.focusAperture.value=e})}function initThree(){scene=new THREE.Scene;scene.fog=new THREE.FogExp2(0,9e-4);camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.01,1e4);renderer=new THREE.WebGLRenderer;renderer.setSize(window.innerWidth,window.innerHeight);renderer.setClearColor(0,0);var e=document.createElement("div");e.classList.add("background");e.appendChild(renderer.domElement);document.body.appendChild(e);camera.position.set(508,153,-223);controls=new THREE.OrbitControls(camera,renderer.domElement);controls.target.set(100,3,-50);camera.lookAt(controls.target);var t=new THREE.GridHelper(500,10);t.setColors(3708294,1854276);t.position.y=-35;scene.add(t);pointcloudMaterial=new THREE.ShaderMaterial({uniforms:{cameraPos:{type:"v3",value:camera.position},far:{type:"f",value:1e5},near:{type:"f",value:1},minSize:{type:"f",value:1},maxSize:{type:"f",value:100},focusDistance:{type:"f",value:defaultFocusDistance},focusAperture:{type:"f",value:defaultFocusAperture}},attributes:{},vertexShader:document.getElementById("vertexShader").textContent,fragmentShader:document.getElementById("fragmentShader").textContent,vertexColors:!0,transparent:!0,alphaTest:.9});var n=POCLoader.load(pointcloudPath);pointcloud=new Potree.PointCloudOctree(n,pointcloudMaterial);pointcloud.LOD=defaultLOD;pointcloud.rotation.set(Math.PI*1.5,0,0);pointcloud.moveToOrigin();pointclouds.push(pointcloud);scene.add(pointcloud)}function render(){requestAnimationFrame(render);pointcloudMaterial.uniforms.cameraPos.value=camera.position;pointcloud.update(camera);renderer.render(scene,camera);controls.update(.1)}Detector.webgl||Detector.addGetWebGLMessage();var defaultFocusDistance=.01,defaultFocusAperture=0,defaultLOD=10,pointcloudPath="../../skylines/ile-de-la-cite/cloud.js",camera,scene,renderer,pointcloud,pointclouds=[],pointcloudMaterial;initThree();initGUI();render();